<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>New Account</title>
  <script th:src="@{/js/renderjson.js}"></script>
  <link rel="stylesheet" th:href="@{/css/renderjson.css}">
  <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
</head>
<body>

<div class="container">
  <div class="row">
    <table class="table table-responsive table-bordered table-striped">
      <thead>
      <tr>
        <th colspan="3" style="text-align:center; vertical-align:middle"><h2>Operations</h2></th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>Get all accounts</td>
        <td></td>
        <td align="center"><form th:action="@{/accounts/getAllAccounts}" method="get">
          <button type="submit" style="background-color: #32cd32; width: 80px">GET</button>
        </form></td>
      </tr>
      <tr>
        <td>Get account by UUID</td>
        <td><label for="get_uuid"></label>
          <input type="text" name="get_uuid" id="get_uuid" form="form1"
                 placeholder="UUID of account you want to get" size="28"></td>
        <td align="center"><form th:action="@{/accounts/getByUuid}" method="get" id="form1">
          <button type="submit" style="background-color: #32cd32; width: 80px">GET</button>
        </form></td>
      </tr>
      <tr>
        <td>Get account by Code</td>
        <td><label for="get_code"></label>
          <input type="text" name="get_code" id="get_code" form="form2"
                 placeholder="Code of account you want to get" size="28"></td>
        <td align="center"><form th:action="@{/accounts/getByCode}" method="get" id="form2">
          <button type="submit" style="background-color: #32cd32; width: 80px">GET</button>
        </form></td>
      </tr>
      <tr>
        <td>Create account</td>
        <td></td>
        <td align="center"><form th:action="@{/accounts/create}" method="get">
          <button type="submit" style="background-color: #FFFF00; width: 80px">CREATE</button>
        </form></td>
      </tr>
      <tr>
        <td>Update account</td>
        <td><label for="update_code"></label>
          <input type="text" name="update_code" id="update_code" form="form3"
                 placeholder="Code of account you want to change" size="28"></td>
        <td align="center"><form th:action="@{/accounts/update}" method="get" id="form3">
          <button type="submit" style="background-color: #1e90ff; width: 80px">UPDATE</button>
        </form></td>
      </tr>
      <tr>
        <td>Delete account</td>
        <td><label for="delete_code"></label>
          <input type="text" name="delete_code" id="delete_code" form="form4"
                 placeholder="Code of account you want to delete" size="28"></td>
        <td align="center"><form th:action="@{/accounts/delete}" method="get" id="form4">
          <button type="submit" style="background-color: #FF0000; width: 80px">DELETE</button>
        </form></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<h2 align="center">Account was successfully created</h2>
<div id="data"></div>

<script type="text/javascript" src="renderjson.js"></script>
<script th:inline="javascript">
    var url = 'http://localhost:8080/accounts/new';
/*<![CDATA[*/
    var code = /*[[${code}]]*/;
    var country = /*[[${country}]]*/;
    var city = /*[[${city}]]*/;
    var value = /*[[${value}]]*/;
    var ban_structure = /*[[${ban_structure}]]*/;
    var branch_code = /*[[${branch_code}]]*/;
    var calendar_code = /*[[${calendar_code}]]*/;
    var company_code = /*[[${company_code}]]*/;
    var currency_code = /*[[${currency_code}]]*/;
    var time_zone = /*[[${time_zone}]]*/;
/*]]>*/
    url = url + "?code=" + code + "&country=" + country +"&city=" + city +"&value=" + value
    + "&ban_structure=" + ban_structure + "&branch_code=" + branch_code + "&calendar_code="
    + calendar_code + "&company_code=" + company_code + "&currency_code=" + currency_code
    + "&time_zone=" + time_zone;
    fetch(url)
        .then(function (response) {
            return response.json();
        })
        .then(function (data) {
            document.getElementById("data").appendChild(renderjson(data));
        })
        .catch(function (err) {
            console.log(err);
        });

</script>
</body>
</html>